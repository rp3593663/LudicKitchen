{%- if section.settings.fullwidth -%}
  {%- assign container = 'container-full' -%}
{%- elsif section.settings.max_width != blank -%}
  {%- assign container = 'kretoss-container' -%}
{%- else -%}
  {%- assign container = 'page-width' -%}
{%- endif -%}

{%- assign max_width = '' -%}
{%- if section.settings.fullwidth == blank and section.settings.max_width != blank -%}
  {%- capture max_width -%}style="max-width: {{ section.settings.max_width }};"{%- endcapture -%}
{%- endif -%}

{% assign margin = section.settings.margin | split: "|" %}
{% assign padding = section.settings.padding | split: "|" %}

{%- style -%}
#shopify-section-{{ section.id }} .section-hero{
  {% if margin[0] != blank %}margin: {{ margin[0] }};{% endif %}
  {% if padding[0] != blank %}padding: {{ padding[0] }};{% endif %}
}
@media (max-width:1200px){
  #shopify-section-{{ section.id }} .section-hero{
    {% if margin[1] != blank %}margin: {{ margin[1] }};{% endif %}
    {% if padding[1] != blank %}padding: {{ padding[1] }};{% endif %}
  }
}
@media (max-width:991px){
  #shopify-section-{{ section.id }} .section-hero{
    {% if margin[2] != blank %}margin: {{ margin[2] }};{% endif %}
    {% if padding[2] != blank %}padding: {{ padding[2] }};{% endif %}
  }
}
@media (max-width:767px){
  #shopify-section-{{ section.id }} .section-hero{
    {% if margin[3] != blank %}margin: {{ margin[3] }};{% endif %}
    {% if padding[3] != blank %}padding: {{ padding[3] }};{% endif %}
  }
}
#shopify-section-{{ section.id }} h2.hero_title{
  max-width: 1050px;
  font-weight: 800;
  font-size: 76px;
  line-height: 86px;
  letter-spacing: -2.28px;
  text-align: center;
  margin: auto;
}
#shopify-section-{{ section.id }} .img_text{
  color: var(--primary_color);
  position: relative;
}
#shopify-section-{{ section.id }} .img_text img{
  position: absolute;
  left: 48px;
  top: -65px;
}
#shopify-section-{{ section.id }} .border_text{
  position: relative;
  padding: 0 10px;
}
#shopify-section-{{ section.id }} .border_text img{
  position: absolute;
  left: 0;
  top: 14px;
  width: 100%;
}
#shopify-section-{{ section.id }} .hero_description{
  margin: 76px 0 46px;
  display: grid;
  gap: 28px;
}
#shopify-section-{{ section.id }} .hero_description p{
  font-weight: 500;
  font-size: 26px;
  line-height: 40px;
  letter-spacing: -0.8px;
  margin: 0;
  color: var(--black);
}
#shopify-section-{{ section.id }} .hero_description p span{
  color: var(--primary_color);
  font-weight: 600;
}
@media(max-width:767px){
  #shopify-section-{{ section.id }} .hero_title span.img_text img { 
    left: 30px; 
    top: -30px; 
    width: 78px; 
  }
  #shopify-section-{{ section.id }} h2.hero_title{
    max-width: 324px;
    font-size: 40px;
    line-height: 42px;
    letter-spacing: -1.2px;
  }
  #shopify-section-{{ section.id }} .hero_description{
    margin: 54px 0 24px;
    gap: 16px;
  }
  #shopify-section-{{ section.id }} .hero_description p{
    font-size: 16px;
    line-height: 24px;
    letter-spacing: -0.48px;
  }
  #shopify-section-{{ section.id }} .border_text img{
    right: 0px;
    bottom: 0px;
    max-width: 240px;
    width:unset;
    left: unset;
    top: unset;
  }
}
{%- endstyle -%}

<div class="kretoss-section section-hero" id="about">
  <div class="{{ container }}" {{ max_width }}>
    <div class="hero_container">

      <h2 class="hero_title">
        {{ section.settings.title_before }}
        <span class="img_text">
          {% if section.settings.highlight_icon %}
            <img src="{{ section.settings.highlight_icon | image_url }}">
          {% endif %}
          {{ section.settings.title_highlight }}
        </span>
        {{ section.settings.title_after }}
        <span class="border_text">
          {% if section.settings.border_image %}
            <img src="{{ section.settings.border_image | image_url }}">
          {% endif %}
          {{ section.settings.border_text }}
        </span>
      </h2>

      <div class="hero_description">
        {% for block in section.blocks %}
          <p>{{ block.settings.text }}</p>
        {% endfor %}
      </div>

      {% if section.settings.button_text != blank %}
        <a href="{{ section.settings.button_link }}" class="hero_btn theme_btn">
          {{ section.settings.button_text }}
        </a>
      {% endif %}

    </div>
  </div>
</div>

{% schema %}
{
  "name": "Hero Section",
  "settings": [
    { "type": "text", "id": "max_width", "label": "Max width" },
    { "type": "checkbox", "id": "fullwidth", "label": "Full width" },

    { "type": "text", "id": "title_before", "label": "Title before highlight" },
    { "type": "text", "id": "title_highlight", "label": "Highlighted title text" },
    { "type": "image_picker", "id": "highlight_icon", "label": "Highlight icon" },
    { "type": "text", "id": "title_after", "label": "Title after highlight" },

    { "type": "text", "id": "border_text", "label": "Border text" },
    { "type": "image_picker", "id": "border_image", "label": "Border underline image" },

    { "type": "text", "id": "button_text", "label": "Button text" },
    { "type": "url", "id": "button_link", "label": "Button link" },

    { "type": "text", "id": "padding", "label": "Padding (desktop | 1200 | 991 | 767)" },
    { "type": "text", "id": "margin", "label": "Margin (desktop | 1200 | 991 | 767)" }
  ],
  "blocks": [
    {
      "type": "description",
      "name": "Description paragraph",
      "settings": [
        { "type": "textarea", "id": "text", "label": "Paragraph text" }
      ]
    }
  ],
  "presets": [
    { "name": "Hero Section (Dynamic)" }
  ]
}
{% endschema %}
